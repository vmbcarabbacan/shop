"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8620],{6960:(t,e,r)=>{r.d(e,{Z:()=>n});var s=r(3645),i=r.n(s)()((function(t){return t[1]}));i.push([t.id,"tbody tr[data-v-4a4395d4]:hover{background-color:transparent!important}.student[data-v-4a4395d4]{width:50%}",""]);const n=i},8620:(t,e,r)=>{r.r(e),r.d(e,{default:()=>v});var s=r(629);function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const o={name:"checkout",data:function(){return{isCreditApplied:!1,valid:!1,validCredits:!1,credits:0,notes:null,iagrees:null,open:!1}},methods:n(n({},(0,s.nv)(["ADDRESS_SAVE","CHECKOUT_PAYMENT_ONLINE"])),{},{saveAddress:function(){var t={address:this.registration.form.address};this.ADDRESS_SAVE(t)},checkoutBtn:function(){var t=this,e=[{payment:"Telr",value:this.total}],r={total:this.total,tax:this.tax,excl:this.excl,disc:this.discount},s={item:this.cart.carts,payment:e,total:r,notes:this.notes,mom:this.registration.form.mom,address:this.registration.form.address,isCredit:this.isCreditApplied,credit:this.credits};this.CHECKOUT_PAYMENT_ONLINE(s).then((function(e){e.data.telr?location.href=e.data.telr:t.$router.push({name:"SuccessPayment"})}))},addCredits:function(){var t=this.credits/this.total*100;this.cart.carts.forEach((function(e){var r=e.item.total_price+e.item.discount,s=e.item.total_price*(t/100),i=e.item.discount+s,n=i/r*100,a=e.item.total_price-s,o=a/1.05,c=.05*o;e.item.total_price=a,e.item.total_price_excl=o,e.item.total_tax=c,e.item.discount=i,e.item.discount_percentage=n,e.item.discounts.push({name:"credits",value:s})})),this.isCreditApplied=!0},removeCredits:function(){this.cart.carts.forEach((function(t){t.item.discounts.filter((function(e){if("credits"==e.name){var r=t.item.total_price+t.item.discount,s=t.item.total_price+e.value,i=s/1.05,n=.05*i,a=t.item.discount-e.value,o=a/r*100;t.item.total_price=s,t.item.total_price_excl=i,t.item.total_tax=n,t.item.discount=a,t.item.discount_percentage=o;var c=t.item.discounts.filter((function(t){return t!==e}));t.item.discounts=c}}))})),this.isCreditApplied=!1},termsAndCondition:function(t){this.iagrees=t,this.open=!0}}),computed:n(n({},(0,s.rn)(["registration","countries","cities","address","cart","checkout","form"])),{},{total:function(){return this.cart.carts.reduce((function(t,e){return t+e.item.total_price}),0)},tax:function(){return this.cart.carts.reduce((function(t,e){return t+e.item.total_tax}),0)},excl:function(){return this.cart.carts.reduce((function(t,e){return t+e.item.total_price_excl}),0)},discount:function(){return this.cart.carts.reduce((function(t,e){return t+e.item.discount}),0)},isCheck:function(){return this.form.active.every((function(t){return 1==t.isCheck}))}})};var c=r(3379),l=r.n(c),d=r(6960),u={insert:"head",singleton:!1};l()(d.Z,u);d.Z.locals;const v=(0,r(1900).Z)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",[r("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12",md:"4"}},[r("v-card",[r("v-card-title",[t._v("\n                        Address\n                    ")]),t._v(" "),r("v-card-text",[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.address.message,expression:"address.message"}],attrs:{type:"success"}},[t._v("\n                            "+t._s(t.address.message)+"\n                        ")]),t._v(" "),r("v-select",{attrs:{items:t.countries,label:"Country/Region",solo:""},model:{value:t.registration.form.address.country,callback:function(e){t.$set(t.registration.form.address,"country",e)},expression:"registration.form.address.country"}}),t._v(" "),r("v-text-field",{attrs:{label:"Street name",rules:[function(t){return!!t||"Street name is required"}]},model:{value:t.registration.form.address.street,callback:function(e){t.$set(t.registration.form.address,"street",e)},expression:"registration.form.address.street"}}),t._v(" "),r("v-text-field",{attrs:{label:"Building name/no., floor, Apt. or villa no.",rules:[function(t){return!!t||"Building name is required"}]},model:{value:t.registration.form.address.building,callback:function(e){t.$set(t.registration.form.address,"building",e)},expression:"registration.form.address.building"}}),t._v(" "),r("v-select",{attrs:{items:t.cities,label:"City",solo:""},model:{value:t.registration.form.address.city,callback:function(e){t.$set(t.registration.form.address,"city",e)},expression:"registration.form.address.city"}}),t._v(" "),r("v-text-field",{attrs:{label:"Area/District",rules:[function(t){return!!t||"Area is required"}]},model:{value:t.registration.form.address.area,callback:function(e){t.$set(t.registration.form.address,"area",e)},expression:"registration.form.address.area"}})],1),t._v(" "),r("v-card-text",[r("v-textarea",{attrs:{label:"Notes"},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}})],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12",md:"7"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-text",[r("v-simple-table",{attrs:{width:"100%"},scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",[r("th",{staticClass:"text-left",attrs:{width:"80%"}}),t._v(" "),r("th",{staticClass:"text-right",attrs:{width:"20%"}},[t._v("\n                                                Total\n                                            ")])])]),t._v(" "),r("tbody",t._l(t.cart.carts,(function(e,s){return r("tr",{key:s},[r("td",[r("a",{staticClass:"text-subtitle-1 font-weight-bold black--text",attrs:{href:"/"+e.type+"/"+e.item.slug+"/pdo/"+e.item.pdoId,target:"_blank"}},[t._v(t._s(t._f("toUpper")(e.item.productName))+" - "),r("span",{staticClass:"text-caption font-weight-thin"},[t._v(t._s(t._f("toUpper")(e.item.pdoName)))])]),t._v(" "),r("br"),t._v(" "),r("span",{staticClass:"text-caption"},[t._v(t._s(t._f("toUpper")(e.type)))]),t._v(" "),r("br"),t._v(" "),r("span",{staticClass:"text-caption",attrs:{for:"quantity"}},[t._v("Qty: "+t._s(e.item.quantity))]),t._v(" "),r("v-select",{staticClass:"student",attrs:{items:t.registration.form.children,"item-text":"firstName","item-value":"id",label:"Select Child",hint:"required","persistent-hint":"",rules:[function(t){return 0!=t.id||"required"}],solo:"","return-object":""},model:{value:e.item.student,callback:function(r){t.$set(e.item,"student",r)},expression:"cart.item.student"}})],1),t._v(" "),r("td",[r("p",{staticClass:"red--text text-right font-weight-bold"},[t._v(t._s(t._f("currency")(e.item.total_price)))])])])})),0),t._v(" "),r("tfoot",[r("tr",[r("td",[r("p",{staticClass:"text-left black--text"},[r("span",[t._v("Subtotal "),r("br")]),t._v(" "),r("span",[t._v("Tax "),r("br")]),t._v(" "),t.discount>0?r("span",[t._v("Discount "),r("br")]):t._e(),t._v(" "),r("span",[t._v("Total")])])]),t._v(" "),r("td",[r("p",{staticClass:"black--text text-right font-weight-bold"},[r("span",[t._v(t._s(t._f("currency")(t.excl))+" "),r("br")]),t._v(" "),r("span",[t._v(t._s(t._f("currency")(t.tax))+" "),r("br")]),t._v(" "),t.discount>0?r("span",[t._v(t._s(t._f("currency")(t.discount))+" "),r("br")]):t._e(),t._v(" "),r("span",[t._v(t._s(t._f("currency")(t.total))+" "),r("br")])])])])])]},proxy:!0}])})],1)],1)],1),t._v(" "),t.registration.form.credits>0?r("v-col",[r("v-card",[r("v-card-actions",[r("span",[t._v("\n                                    You have available credits. Do you want to use?\n                                ")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-form",{model:{value:t.validCredits,callback:function(e){t.validCredits=e},expression:"validCredits"}},[t.isCreditApplied?r("v-btn",{staticClass:"text-none",on:{click:t.removeCredits}},[t._v("\n                                        Remove Credit ("+t._s(t._f("currency")(t.credits))+")\n                                    ")]):r("div",[r("v-text-field",{attrs:{label:"Enter Amount",type:"number",rules:[function(e){return e<=t.registration.form.credits||"Enter valid amount"}],hint:""+t.registration.form.credits,"persistent-hint":""},model:{value:t.credits,callback:function(e){t.credits=t._n(e)},expression:"credits"}}),t._v(" "),r("v-btn",{staticClass:"text-none",attrs:{disabled:!t.validCredits},on:{click:t.addCredits}},[t._v("\n                                        Apply Credits\n                                        ")])],1)],1)],1)],1)],1):t._e(),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-card-text",[r("h3",[t._v("\n                                    I agree to fulfil the obligations set forth to StepUp Academy and will ensure all school terms in which I/my child attends are accounted for\n                                ")]),t._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[t._l(t.form.active,(function(e,s){return[r("div",{key:s},[r("v-checkbox",{staticClass:"my-0",scopedSlots:t._u([{key:"label",fn:function(){return[r("v-btn",{staticClass:"text-none",attrs:{text:""},on:{click:function(r){return t.termsAndCondition(e)}}},[t._v("\n                                                    "+t._s(t._f("toUpper")(e.name))+"\n                                                ")])]},proxy:!0}],null,!0),model:{value:e.isCheck,callback:function(r){t.$set(e,"isCheck",r)},expression:"form.isCheck"}})],1)]}))],2)],1)],1)],1)],1),t._v(" "),r("v-col",{attrs:{cols:"12"}},[r("div",{staticClass:"text-right"},[r("v-btn",{staticClass:"text-none success",attrs:{disabled:!t.valid||!t.isCheck},on:{click:t.checkoutBtn}},[t._v("Proceed to checkout")])],1)])],1)],1)],1)],1),t._v(" "),t.open?r("v-dialog",{attrs:{width:"800"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[r("v-card",[r("v-card-text",[r("div",{domProps:{innerHTML:t._s(t.iagrees.body)}})]),t._v(" "),r("v-card-actions",[r("v-spacer"),t._v(" "),r("v-btn",{on:{click:function(e){t.open=!t.open}}},[t._v("Agree and Close")])],1)],1)],1):t._e()],1)}),[],!1,null,"4a4395d4",null).exports}}]);