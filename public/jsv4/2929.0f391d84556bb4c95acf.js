"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2929],{2929:(t,e,s)=>{s.r(e),s.d(e,{default:()=>c});var a=s(629);function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){i(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function i(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const l={name:"studentEdit",components:{productImage:function(){return s.e(7391).then(s.bind(s,7391))}},created:function(){this.SAMS_STUDENT({id:parseInt(this.$route.params.id)}),this.ENROLLMENT_GET({id:parseInt(this.$route.params.id),is_end:0}),this.ENROLLMENT_GET({id:parseInt(this.$route.params.id),is_end:1})},data:function(){return{valid:!1,open:!1,gender:["Female","Male"],specialRules:[function(t){return!!t||"Name is required"},function(t){return/^[A-Za-z]+$/.test(t)||"Please enter character a-z only"}]}},methods:r(r(r({},(0,a.nv)(["SAMS_STUDENT","SAMS_STUDENT_STORE","ENROLLMENT_GET","ENROLLMENT_DELETE","ENROLLMENT_CHANGE_TO_PERMANENT","IMAGES"])),(0,a.OI)(["IMAGE_OPEN","IMAGE_FILTER"])),{},{save:function(){this.SAMS_STUDENT_STORE({form:this.sams.student})},addSchedule:function(){this.$router.push({name:"StudentSchedules",query:{student_id:parseInt(this.$route.params.id),page:1}})},makePermanent:function(t){this.ENROLLMENT_CHANGE_TO_PERMANENT({id:t.id,student_id:parseInt(this.$route.params.id)})},deleteItem:function(t){this.ENROLLMENT_DELETE({id:t.id,student_id:parseInt(this.$route.params.id)})},openMedia:function(){this.IMAGE_OPEN(!0);this.IMAGE_FILTER({page:1,perPage:20}),this.IMAGES(this.image.filter)}}),computed:r({},(0,a.rn)(["sams","enroll","image"]))};const c=(0,s(1900).Z)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-card",[s("router-link",{staticClass:"text-caption blackk--text",attrs:{to:{name:"Students"}}},[s("v-icon",{attrs:{"x-small":""}},[t._v("mdi-arrow-left")]),t._v(" Go back to view\n                ")],1),t._v(" "),s("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.sams.studentMessage,expression:"sams.studentMessage"}],attrs:{type:"success"}},[t._v("\n                    "+t._s(t.sams.studentMessage)+"\n                ")]),t._v(" "),s("v-card-text",[s("v-row",{attrs:{justify:"center",align:"center"}},[s("v-col",{attrs:{cols:"12",md:"8"}},[s("div",{staticClass:"text-center"},[t.sams.student.image?s("v-avatar",{attrs:{size:"150",tile:""}},[s("v-img",{attrs:{src:"/"+t.sams.student.image.link,"lazy-src":"/"+t.sams.student.image.link_res,name:t.sams.student.image.name,alt:t.sams.student.image.alt}})],1):t._e()],1)]),t._v(" "),s("v-col",{attrs:{cols:"12",md:"8"}},[s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"primary text-none",on:{click:t.openMedia}},[t._v("Add photo")])],1),t._v(" "),s("productImage")],1)],1),t._v(" "),s("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"First Name",rules:t.specialRules},model:{value:t.sams.student.firstName,callback:function(e){t.$set(t.sams.student,"firstName",e)},expression:"sams.student.firstName"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Family Name",rules:t.specialRules},model:{value:t.sams.student.familyName,callback:function(e){t.$set(t.sams.student,"familyName",e)},expression:"sams.student.familyName"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-select",{attrs:{label:"Gender",items:t.gender},model:{value:t.sams.student.gender,callback:function(e){t.$set(t.sams.student,"gender",e)},expression:"sams.student.gender"}})],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-menu",{ref:"dob",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,n=e.attrs;return[s("v-text-field",t._g(t._b({attrs:{label:"Date","persistent-hint":"","prepend-icon":"mdi-calendar","append-icon":"*",rules:[function(t){return!!t||"Date of birth is required"}],suffix:"*",readonly:""},model:{value:t.sams.student.dateOfBirth,callback:function(e){t.$set(t.sams.student,"dateOfBirth",e)},expression:"sams.student.dateOfBirth"}},"v-text-field",n,!1),a))]}}]),model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[t._v(" "),s("v-date-picker",{attrs:{"no-title":"",max:(new Date).toISOString().substr(0,10)},on:{input:function(e){t.open=!1}},model:{value:t.sams.student.dateOfBirth,callback:function(e){t.$set(t.sams.student,"dateOfBirth",e)},expression:"sams.student.dateOfBirth"}})],1)],1),t._v(" "),s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-text-field",{attrs:{label:"Nationality"},model:{value:t.sams.student.nationality,callback:function(e){t.$set(t.sams.student,"nationality",e)},expression:"sams.student.nationality"}})],1)],1)],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{staticClass:"text-none primary",on:{click:t.save}},[t._v("\n                        Save\n                    ")])],1)],1),t._v(" "),s("v-card",{staticClass:"mt-6"},[s("v-card-title",[t._v("\n                    Current Schedule\n                ")]),t._v(" "),s("v-card-text",[s("v-simple-table",[s("thead",[s("tr",[s("th",{staticClass:"left"},[t._v("Lesson")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Location")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Day")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Teacher")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Start")]),t._v(" "),s("th",{staticClass:"left"},[t._v("End")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Permanent")]),t._v(" "),s("th",{staticClass:"left"})])]),t._v(" "),s("tbody",t._l(t.enroll.current,(function(e,a){return s("tr",{key:a},[s("td",[t._v(" "+t._s(t._f("toUpper")(e.product))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.location))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.weekday))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.teacher))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("time")(e.time_start))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("time")(e.time_end))+" ")]),t._v(" "),s("td",[s("v-checkbox",{attrs:{readonly:""},model:{value:e.is_permanent,callback:function(s){t.$set(e,"is_permanent",s)},expression:"current.is_permanent"}})],1),t._v(" "),s("td",[e.is_permanent?t._e():s("v-icon",{attrs:{small:""},on:{click:function(s){return t.makePermanent(e)}}},[t._v("mdi-sticker-text")]),t._v(" "),s("v-icon",{attrs:{small:""},on:{click:function(s){return t.deleteItem(e)}}},[t._v("mdi-close")])],1)])})),0)]),t._v(" "),s("div",{staticClass:"text-center"},[s("v-btn",{staticClass:"text-none primary",on:{click:t.addSchedule}},[t._v("\n                            Add Schedule\n                        ")])],1)],1)],1),t._v(" "),s("v-card",{staticClass:"mt-6"},[s("v-card-title",[t._v("\n                    Previous Schedule\n                ")]),t._v(" "),s("v-card-text",[s("v-simple-table",[s("thead",[s("tr",[s("th",{staticClass:"left"},[t._v("Lesson")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Location")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Day")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Teacher")]),t._v(" "),s("th",{staticClass:"left"},[t._v("Start")]),t._v(" "),s("th",{staticClass:"left"},[t._v("End")])])]),t._v(" "),s("tbody",t._l(t.enroll.done,(function(e,a){return s("tr",{key:a},[s("td",[t._v(" "+t._s(t._f("toUpper")(e.product))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.location))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.weekday))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("toUpper")(e.teacher))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("time")(e.time_start))+" ")]),t._v(" "),s("td",[t._v(" "+t._s(t._f("time")(e.time_end))+" ")])])})),0)])],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);