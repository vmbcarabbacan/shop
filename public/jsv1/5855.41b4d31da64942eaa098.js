"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5855],{60:(t,e,n)=>{n.d(e,{Z:()=>s});var a=n(3645),i=n.n(a)()((function(t){return t[1]}));i.push([t.id,"tbody tr[data-v-bdffd300]:hover{background-color:transparent!important}",""]);const s=i},5855:(t,e,n)=>{n.r(e),n.d(e,{default:()=>p});var a=n(629);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const o={name:"pointOfSale",components:{search:function(){return n.e(8087).then(n.bind(n,8087))},amend:function(){return n.e(775).then(n.bind(n,775))}},beforeRouteEnter:function(t,e,n){n((function(t){t.redirect(),t.POS_USERS()}))},data:function(){return{notes:null,valid:!1,validPayment:!1,openPayment:!1,payment:null,search:null,item:null,permanent:!0,variant:null,isDiscount:!1,percentage:!1,quantity:0,discount:0,open:!1,mom:{id:0},pays:[],payments:["Cash","Card","Bank","Cheque","Telr"],loading:!1,link:!1,today_date:new Date,printCarts:[],printTotal:{},openRequest:!1,requestValid:!1,requests:["add quantity","deduct quantity","amend price"],request:{type:null,comment:null,value:0},openRequestLoading:!1,validCredits:!1,isCreditApplied:!1,credits:0}},methods:s(s(s({},(0,a.nv)(["POS_ITEMS","POST_VARIANTS","POS_SEARCH","CART_ADD","CART_DELETE_BY_ID","POS_USERS","SAMS_STUDENT_BY_PARENT_ID","CHECKOUT_PAYMENT","SALES","REQUEST_SAVE"])),(0,a.OI)(["POS_ITEM_REMOVE","POS_VAIRANT_REMOVE","POS_SEARCH_BY_SALE_ID","CHECKOUT_TELR"])),{},{redirect:function(){var t=this;setTimeout((function(){!t.in_array(t.registration.form.role,["Admin","Reception","Manager"])&&t.$router.push({name:"Home"})}),1e3)},selectedProd:function(t){this.POS_ITEMS({type:t.text})},backToPos:function(){this.item=null,this.POS_ITEM_REMOVE()},deleteItem:function(t){var e={cartId:t,user_id:this.registration.form.id};this.CART_DELETE_BY_ID(e)},backtoProduct:function(){this.variant=null,this.POS_VAIRANT_REMOVE()},openVariant:function(t){this.POST_VARIANTS({id:t.id,type:t.type}),this.item=t},getPayment:function(t){var e=[];t.forEach((function(t){"Cash"==t&&e.push({payment:"Change",value:0}),e.push({payment:t,value:0})})),this.pays=e},selectedParent:function(t){this.mom=t,this.SAMS_STUDENT_BY_PARENT_ID({id:t.id})},selectedVariant:function(t){this.variant=t,this.open=!0},close:function(){this.quantity=0,this.open=!1},closeRequest:function(){this.openRequest=!1,this.openRequestLoading=!1},searchProduct:function(){this.POS_SEARCH({search:this.search})},toggleDiscount:function(){this.percentage=!this.percentage},addCart:function(){var t={id:0,browser:"",ip:"",created_at:"",type:this.item.type,isCart:1,isWeb:!1,productId:this.item.id,updated_at:"",status:"Pending",item:{image:this.item.image,price:this.variant.price,productId:this.item.id,productName:this.item.name,pdoId:this.variant.id,slug:this.item.slug,pdoName:this.variant.name,is_permanent:this.permanent,discounts:[],type:this.item.type,status:"Pending",student:{id:0,firstName:null,familyName:null},address:{id:0}}},e=0,n=0,a=this.quantity,i=this.vat,s=i/100,r=t.item.price/(s+1),o=r*a,c=t.item.price*a,l=o*s;this.isDiscount&&(n=this.percentage?c*(this.discount/100):this.discount,e=this.percentage?this.discount:n/c*100,l=(o=(c-=n)/(s+1))*s,t.item.discounts.push({name:"pos",value:n})),t.item.quantity=a,t.item.quantities=this.quantities,t.item.vat=i,t.item.tax=s,t.item.price_excl=r,t.item.total_price_excl=o,t.item.total_price=c,t.item.total_tax=l,t.item.discount_percentage=e,t.item.discount=n;var u={user_id:this.registration.form.id,item:t};this.CART_ADD(u),this.close()},addCredits:function(){var t=this.credits/this.total*100;this.cart.pos.forEach((function(e){var n=e.item.total_price+e.item.discount,a=e.item.total_price*(t/100),i=e.item.discount+a,s=i/n*100,r=e.item.total_price-a,o=r/1.05,c=.05*o;e.item.total_price=r,e.item.total_price_excl=o,e.item.total_tax=c,e.item.discount=i,e.item.discount_percentage=s,e.item.discounts.push({name:"credits",value:a})})),this.isCreditApplied=!0},removeCredits:function(){this.cart.pos.forEach((function(t){t.item.discounts.filter((function(e){if("credits"==e.name){var n=t.item.total_price+t.item.discount,a=t.item.total_price+e.value,i=a/1.05,s=.05*i,r=t.item.discount-e.value,o=r/n*100;t.item.total_price=a,t.item.total_price_excl=i,t.item.total_tax=s,t.item.discount=r,t.item.discount_percentage=o;var c=t.item.discounts.filter((function(t){return t!==e}));t.item.discounts=c}}))})),this.isCreditApplied=!1},requestBtn:function(){this.openRequest=!0},in_array:function(t,e){for(var n=!1,a=0;a<e.length;a++){if(e[a]==t){n=!0;break}}return n},isSearchOpen:function(){this.POS_SEARCH_BY_SALE_ID(),this.SALES({page:1,search:null,type:"Sale ID",perPage:20})},pay:function(){var t=this;this.loading=!0;var e={total:this.total,tax:this.tax,excl:this.excl,disc:this.disc};this.printCarts=this.cart.pos,this.printTotal=e;var n=0;this.total<this.total_payment&&(n=this.total_payment-this.total,this.pays.map((function(t){"Change"==t.payment&&(t.value=n),"Cash"==t.payment&&n>0&&(t.value=t.value-n)}))),this.CHECKOUT_PAYMENT({item:this.cart.pos,payment:this.pays,mom:this.mom,link:this.isLink,notes:this.notes,total:e,address:null,isCredit:this.isCreditApplied,credit:this.credits}).then((function(e){t.checkout.telr||t.$receipt("print"),t.pays=[],t.mom={id:0},t.notes=null,t.payment=null,t.checkout.telr&&(t.link=!0),t.openPayment=!1,t.loading=!1}))},sendRequest:function(){var t=this,e={type:this.request.type,comment:this.request.comment,value:this.request.value,product_id:this.item.id,option_id:this.variant.id};this.openRequestLoading=!0,this.REQUEST_SAVE({filter:e}).then((function(e){t.closeRequest()}))},closeLink:function(){this.CHECKOUT_TELR(null),this.link=!1}}),computed:s(s({},(0,a.rn)(["registration","types","pos","cart","sams","checkout","setup"])),{},{total:function(){return this.cart.pos.reduce((function(t,e){return t+e.item.total_price}),0)},vat:function(){return Number(this.setup.filter.vat)},tax:function(){return this.cart.pos.reduce((function(t,e){return t+e.item.total_tax}),0)},excl:function(){return this.cart.pos.reduce((function(t,e){return t+e.item.total_price_excl}),0)},disc:function(){return this.cart.pos.reduce((function(t,e){return t+e.item.discount}),0)},quantities:function(){if(this.variant){for(var t=[],e=0;e<this.variant.quantity;e++)t.push(e+1);return t}},total_payment:function(){return this.pays.reduce((function(t,e){return t+e.value}),0)},isLink:function(){return this.pays.some((function(t){return"Telr"==t.payment}))}})};var c=n(3379),l=n.n(c),u=n(60),d={insert:"head",singleton:!1};l()(u.Z,d);u.Z.locals;const p=(0,n(1900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",to:{name:"Home"}}},"v-btn",i,!1),a),[n("v-icon",{attrs:{color:"primary",dark:""}},[t._v("\n                    mdi-home\n                    ")])],1)]}}])},[t._v(" "),n("span",[t._v("Go Home")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:t.isSearchOpen}},"v-btn",i,!1),a),[n("v-icon",{attrs:{color:"primary",dark:""}},[t._v("\n                    mdi-magnify\n                    ")])],1)]}}])},[t._v(" "),n("span",[t._v("View Transaction")])]),t._v(" "),n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",to:{name:"ENDOFDAY"}}},"v-btn",i,!1),a),[n("v-icon",{attrs:{color:"primary",dark:""}},[t._v("\n                    mdi-calendar-today\n                    ")])],1)]}}])},[t._v(" "),n("span",[t._v("View end of day report")])])],1),t._v(" "),n("v-main",[n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{align:"start",justify:"center"}},[n("v-col",{attrs:{cols:"12",md:"8"}},[n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{label:"Search",solo:"",clearable:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchProduct.apply(null,arguments)}},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-btn",{attrs:{icon:""},on:{click:t.searchProduct}},[n("v-icon",{attrs:{left:""}},[t._v("\n                                        mdi-magnify\n                                        ")])],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),0==t.pos.items.length?n("v-card",{staticClass:"overflow-x-auto",attrs:{"max-height":"600",flat:""}},[n("v-card-text",[n("v-row",{attrs:{align:"start",justify:"start"}},t._l(t.types,(function(e,a){return n("v-col",{key:a,attrs:{cols:"12",md:"4"}},[n("v-card",{on:{click:function(n){return t.selectedProd(e)}}},[n("v-card-text",[n("p",{staticClass:"text-center text-subtitle-1 font-weight-bold"},[t._v(t._s(e.text))])])],1)],1)})),1)],1)],1):t.pos.items.length>0&&0==t.pos.variants.length?n("v-card",{staticClass:"overflow-x-auto",attrs:{"max-height":"600",flat:""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",{staticClass:"d-flex justify-center align-center",attrs:{dark:"",color:"purple",height:"80"},on:{click:t.backToPos}},[n("p",{staticClass:"text-center white--text"},[t._v("Back")])])],1),t._v(" "),t._l(t.pos.items,(function(e,a){return n("v-col",{key:a,attrs:{cols:"12",md:"4"}},[n("v-card",{staticClass:"d-flex justify-center align-center",attrs:{dark:"",color:e.totalQty>0?"primary":"default",height:"80"},on:{click:function(n){return t.openVariant(e)}}},[n("p",{staticClass:"text-center white--text"},[t._v(t._s(t._f("toUpper")(e.name)))])])],1)}))],2)],1)],1):n("v-card",{staticClass:"overflow-x-auto",attrs:{"max-height":"600",flat:""}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",{staticClass:"d-flex justify-center align-center",attrs:{dark:"",color:"purple",height:"80"},on:{click:t.backtoProduct}},[n("p",{staticClass:"text-center white--text"},[t._v("Back")])])],1),t._v(" "),t._l(t.pos.variants,(function(e,a){return n("v-col",{key:a,attrs:{cols:"12",md:"4"}},[n("v-card",{staticClass:"d-flex justify-center align-center",attrs:{dark:"",color:e.quantity>0?"primary":"default",height:"80"},on:{click:function(n){return t.selectedVariant(e)}}},[n("p",{staticClass:"text-center white--text"},[t._v(t._s(t._f("toUpper")(e.name)))])])],1)}))],2)],1)],1)],1)],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[n("v-autocomplete",{attrs:{label:"Select Customer",items:t.pos.users,"item-text":"fullName","item-value":"id","append-icon":"*",rules:[function(t){return 0!=t.id||"required"}],solo:"","return-object":""},on:{change:t.selectedParent},model:{value:t.mom,callback:function(e){t.mom=e},expression:"mom"}})],1),t._v(" "),n("v-card-text",[n("v-simple-table",{staticClass:"overflow-x-auto",attrs:{height:"450",width:"100%","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left",attrs:{width:"60%"}}),t._v(" "),n("th",{staticClass:"text-right",attrs:{width:"40%"}},[t._v("\n                                                Total\n                                            ")])])]),t._v(" "),n("tbody",t._l(t.cart.pos,(function(e,a){return n("tr",{key:a},[n("td",[n("a",{staticClass:"text-subtitle-1 font-weight-bold black--text",attrs:{href:"/"+e.type+"/"+e.item.slug+"/pdo/"+e.item.pdoId,target:"_blank"}},[t._v(t._s(t._f("toUpper")(e.item.productName))+" - "),n("span",{staticClass:"text-caption font-weight-thin"},[t._v(t._s(t._f("toUpper")(e.item.pdoName)))])]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-caption"},[t._v(t._s(t._f("toUpper")(e.type)))]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-caption",attrs:{for:"quantity"}},[t._v("Qty: "+t._s(e.item.quantity))]),t._v(" "),n("v-select",{staticClass:"student",attrs:{items:t.sams.studentByParentId,"append-icon":"*","item-text":"firstName","item-value":"id",label:"Select Child",rules:[function(t){return 0!=t.id||"required"}],solo:"","hide-details":"","return-object":""},model:{value:e.item.student,callback:function(n){t.$set(e.item,"student",n)},expression:"cart.item.student"}}),t._v(" "),n("v-btn",{staticClass:"mr-3 text-none red--text",attrs:{text:"","x-small":""},on:{click:function(n){return t.deleteItem(e.id)}}},[t._v("Delete")])],1),t._v(" "),n("td",[n("p",{staticClass:"red--text text-right font-weight-bold"},[t._v(t._s(t._f("currency")(e.item.total_price)))])])])})),0)]},proxy:!0}])}),t._v(" "),n("v-divider"),t._v(" "),n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("td",[n("p",{staticClass:"text-left black--text"},[n("span",[t._v("Subtotal "),n("br")]),t._v(" "),n("span",[t._v("Tax "),n("br")]),t._v(" "),t.disc>0?n("span",[t._v("Discount "),n("br")]):t._e(),t._v(" "),n("span",[t._v("Total")])])]),t._v(" "),n("td",[n("p",{staticClass:"black--text text-right font-weight-bold"},[n("span",[t._v(t._s(t._f("currency")(t.excl))+" "),n("br")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(t.tax))+" "),n("br")]),t._v(" "),t.disc>0?n("span",[t._v(t._s(t._f("currency")(t.disc))+" "),n("br")]):t._e(),t._v(" "),n("span",[t._v(t._s(t._f("currency")(t.total))+" "),n("br")])])])]),t._v(" "),t.pos.credits>0?n("tr",[n("td",{attrs:{colspan:"2"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-actions",[n("span",[t._v("\n                                                                Available credits\n                                                            ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-form",{model:{value:t.validCredits,callback:function(e){t.validCredits=e},expression:"validCredits"}},[t.isCreditApplied?n("v-btn",{staticClass:"text-none",on:{click:t.removeCredits}},[t._v("\n                                                                    Remove Credit ("+t._s(t._f("currency")(t.credits))+")\n                                                                ")]):n("div",[n("v-text-field",{attrs:{label:"Enter Amount",type:"number",rules:[function(e){return e<=t.pos.credits||"Enter valid amount"}],hint:""+t.pos.credits,"persistent-hint":""},model:{value:t.credits,callback:function(e){t.credits=t._n(e)},expression:"credits"}}),t._v(" "),n("v-btn",{staticClass:"text-none",attrs:{disabled:!t.validCredits},on:{click:t.addCredits}},[t._v("\n                                                                    Apply Credits\n                                                                    ")])],1)],1)],1)],1)],1)]):t._e(),t._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("v-combobox",{attrs:{label:"Select Payment",items:t.payments,multiple:""},on:{change:t.getPayment},model:{value:t.payment,callback:function(e){t.payment=e},expression:"payment"}})],1)]),t._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("v-btn",{attrs:{block:"",disabled:0==t.cart.pos.length||0==t.pays.length||!t.valid},on:{click:function(e){t.openPayment=!0}}},[t._v("\n                                                        Proceed to payment\n                                                    ")])],1)])])]},proxy:!0}])}),t._v(" "),n("v-overlay",{attrs:{absolute:"",value:t.cart.loading}},[n("v-progress-linear",{attrs:{color:"deep-purple accent-4",indeterminate:"",rounded:"",height:"6"}})],1)],1)],1)],1)],1)],1),t._v(" "),t.open?n("v-dialog",{attrs:{width:"300",persistent:""},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("v-card",[n("v-toolbar",{attrs:{flat:""}},[n("v-toolbar-title"),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{on:{click:t.close}},[t._v("mdi-close")])],1),t._v(" "),n("v-card-text",[n("span",{staticClass:"mt-6 text-center text-h6 font-weight-bold"},[t._v(" "+t._s(t._f("toUpper")(t.item.name))+" - "+t._s(t._f("toUpper")(t.variant.name))+" ")]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-center text-subtitle-1"},[t._v(" Price: "+t._s(t._f("currency")(t.variant.price))+" ")]),t._v(" "),n("v-select",{attrs:{label:"Select Quantity",items:t.quantities,solo:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}}),t._v(" "),"Lessons"==t.item.type?n("v-checkbox",{attrs:{label:"Permanent"},model:{value:t.permanent,callback:function(e){t.permanent=e},expression:"permanent"}}):t._e(),t._v(" "),n("v-checkbox",{attrs:{label:"Add Discount?"},model:{value:t.isDiscount,callback:function(e){t.isDiscount=e},expression:"isDiscount"}}),t._v(" "),t.isDiscount?n("v-text-field",{attrs:{label:"Enter Discount",type:"number","append-icon":t.percentage?"mdi-ticket-percent":"mdi-currency-php"},on:{"click:append":t.toggleDiscount},model:{value:t.discount,callback:function(e){t.discount=t._n(e)},expression:"discount"}}):t._e()],1),t._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"text-none primary",attrs:{disabled:!(t.quantity>0),block:""},on:{click:t.addCart}},[t._v("\n                            Add to Cart\n                        ")])],1),t._v(" "),n("v-card-actions",[n("v-btn",{staticClass:"text-none success",attrs:{block:""},on:{click:t.requestBtn}},[t._v("\n                            Request\n                        ")])],1)],1)],1):t._e(),t._v(" "),t.openRequest?n("v-dialog",{attrs:{width:"500",persistent:""},model:{value:t.openRequest,callback:function(e){t.openRequest=e},expression:"openRequest"}},[n("v-card",[n("v-toolbar",{staticClass:"primary",attrs:{flat:"",dark:""}},[n("v-toolbar-title",[t._v("\n                            Request for stock "+t._s(t._f("toUpper")(t.item.name))+" - "+t._s(t._f("toUpper")(t.variant.name))+"\n                        ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-icon",{on:{click:t.closeRequest}},[t._v("mdi-close")])],1),t._v(" "),n("v-card-text",[n("v-form",{model:{value:t.requestValid,callback:function(e){t.requestValid=e},expression:"requestValid"}},[n("v-combobox",{attrs:{label:"Select request type",items:t.requests,rules:[function(t){return!!t||"required"}]},model:{value:t.request.type,callback:function(e){t.$set(t.request,"type",e)},expression:"request.type"}}),t._v(" "),n("v-text-field",{attrs:{label:"amend price"===t.request.type?"Price":"Quantity",type:"number",rules:[function(t){return t>0||"required"}]},model:{value:t.request.value,callback:function(e){t.$set(t.request,"value",t._n(e))},expression:"request.value"}}),t._v(" "),n("v-textarea",{attrs:{label:"Please specify reasons",rules:[function(t){return!!t||"required"}]},model:{value:t.request.comment,callback:function(e){t.$set(t.request,"comment",e)},expression:"request.comment"}})],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"text-none success",attrs:{disabled:!t.requestValid,loading:t.openRequestLoading},on:{click:t.sendRequest}},[t._v("\n                            Send Request\n                        ")])],1)],1)],1):t._e(),t._v(" "),n("v-dialog",{attrs:{width:"400"},model:{value:t.openPayment,callback:function(e){t.openPayment=e},expression:"openPayment"}},[n("v-card",[n("v-toolbar",{staticClass:"primary",attrs:{flat:"",dark:""}},[n("v-toolbar-title",[t._v("\n                            Add Payment & Notes\n                        ")])],1),t._v(" "),n("v-form",{on:{submit:function(t){t.preventDefault()}},model:{value:t.validPayment,callback:function(e){t.validPayment=e},expression:"validPayment"}},[n("v-card-text",[n("v-textarea",{attrs:{label:"Notes","append-icon":"*",solo:"",rules:[function(t){return!!t||"required"}]},model:{value:t.notes,callback:function(e){t.notes=e},expression:"notes"}}),t._v(" "),t._l(t.pays,(function(e,a){return[n("div",{key:a},["Change"!=e.payment?n("v-text-field",{attrs:{label:e.payment,type:"number"},model:{value:e.value,callback:function(n){t.$set(e,"value",t._n(n))},expression:"pay.value"}}):t._e()],1)]}))],2)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"text-none success",attrs:{type:"submit",disabled:!t.validPayment||t.total_payment<t.total,loading:t.loading},on:{click:t.pay}},[t._v("\n                            Pay\n                        ")])],1),t._v(" "),n("v-card-text",[t._v("\n                        "+t._s(t.checkout.telr)+"\n                    ")])],1)],1)],1),t._v(" "),n("v-dialog",{attrs:{width:"400",persistent:""},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}},[n("v-card",[n("v-toolbar",{staticClass:"primary",attrs:{flat:"",dark:""}},[n("v-toolbar-title",[t._v("\n                            Telr Link\n                        ")])],1),t._v(" "),n("v-card-text",[t._v("\n                        "+t._s(t.checkout.telr)+"\n                    ")]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"text-none info",on:{click:t.closeLink}},[t._v("\n                            Close\n                        ")])],1)],1)],1),t._v(" "),n("search"),t._v(" "),n("amend"),t._v(" "),n("div",{staticClass:"d-none d-print-block",attrs:{id:"print"}},[n("p",{staticStyle:{"text-align":"center"}},[t._v("StepUp Academy")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("113 Apex Atrium Motor City, Dubai, UAE")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("04 453 4360")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("https://stepup.ae")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("TRN: 1002540945100003")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("Tax Invoice")]),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("\n                Invoice #:  "+t._s(t.checkout.transactionNumber)+"\n                ")]),t._v(" "),n("hr"),t._v(" "),n("p",{staticStyle:{"text-align":"center"}},[t._v("\n                Date Purchased: "+t._s(t._f("dateAndTime")(t.today_date))+"\n                ")]),t._v(" "),n("v-simple-table",{attrs:{width:"100%","fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",[n("th",{staticClass:"text-left"}),t._v(" "),n("th",{staticClass:"text-right"},[t._v("\n                            Total\n                        ")])])]),t._v(" "),n("tbody",t._l(t.printCarts,(function(e,a){return n("tr",{key:a},[n("td",[n("span",{staticClass:"text-caption"},[t._v(t._s(t._f("toUpper")(e.item.productName))+" - "),n("span",{staticClass:"text-caption font-weight-thin"},[t._v(t._s(t._f("toUpper")(e.item.pdoName)))])]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-caption"},[t._v(t._s(t._f("toUpper")(e.type)))]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-caption",attrs:{for:"quantity"}},[t._v("Qty: "+t._s(e.item.quantity))]),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"text-caption"},[t._v(t._s(t._f("toUpper")(e.item.student.firstName))+" "+t._s(t._f("toUpper")(e.item.student.familyName)))])]),t._v(" "),n("td",[n("p",{staticClass:"red--text text-right font-weight-bold"},[t._v(t._s(t._f("currency")(e.item.total_price)))])])])})),0),t._v(" "),n("tfoot",[n("tr",[n("td",[n("p",{staticClass:"text-left black--text"},[n("span",[t._v("Subtotal "),n("br")]),t._v(" "),n("span",[t._v("Tax "),n("br")]),t._v(" "),t.printTotal.disc>0?n("span",[t._v("Discount "),n("br")]):t._e(),t._v(" "),n("span",[t._v("Total")])])]),t._v(" "),n("td",[n("p",{staticClass:"black--text text-right font-weight-bold"},[n("span",[t._v(t._s(t._f("currency")(t.printTotal.excl))+" "),n("br")]),t._v(" "),n("span",[t._v(t._s(t._f("currency")(t.printTotal.tax))+" "),n("br")]),t._v(" "),t.printTotal.disc>0?n("span",[t._v(t._s(t._f("currency")(t.printTotal.disc))+" "),n("br")]):t._e(),t._v(" "),n("span",[t._v(t._s(t._f("currency")(t.printTotal.total))+" "),n("br")])])])])])]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"bdffd300",null).exports}}]);