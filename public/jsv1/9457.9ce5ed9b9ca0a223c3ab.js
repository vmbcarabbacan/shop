"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9457],{9457:(t,e,s)=>{s.r(e),s.d(e,{default:()=>o});var n=s(629);function r(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?r(Object(s),!0).forEach((function(e){l(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function l(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}const a={name:"STUDENTPRODUCTLESSONS",data:function(){return{status:["Completed","Pending","Cancelled","Refund"],filter:{dates:[],allProdIds:[],studentIds:[],status:[]},result:[]}},methods:i(i({},(0,n.nv)(["REPORT_FILTER_LOCATION_BY_TERM_ID","REPORT_STUDENT_ALL_PRODUCTS"])),{},{selectedTerm:function(t){this.filter.locationIds=[],this.REPORT_FILTER_LOCATION_BY_TERM_ID({id:t})},filterRecord:function(){var t=this,e=this.filter.dates.sort((function(t,e){return new Date(t)-new Date(e)}));this.REPORT_STUDENT_ALL_PRODUCTS({dates:e,allProdIds:this.filter.allProdIds,studentIds:this.filter.studentIds,status:this.filter.status}).then((function(e){t.result=e.data}))},exportExcel:function(){this.$excel("export","Students over Lesson")},printReport:function(){this.$print("export")}}),computed:i(i({},(0,n.rn)(["reports"])),{},{dateRangeText:function(){return this.filter.dates.join(" ~ ")},totalStudents:function(){return this.reports.studentsPerLessons.reduce((function(t,e){return t+e.students}),0)}})};const o=(0,s(1900).Z)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-container",[s("v-row",{attrs:{align:"center",justify:"center"}},[s("v-col",{attrs:{cols:"12"}},[s("v-autocomplete",{attrs:{items:t.reports.filters.allProducts,"item-text":"name","item-value":"id",label:"Select Uniforms/Lessons",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,r=e.index;return[r<5?s("v-chip",[s("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),5===r?s("span",{staticClass:"grey--text text-caption"},[t._v("\n                                        (+"+t._s(t.filter.allProdIds.length-5)+" others)\n                                    ")]):t._e()]}}]),model:{value:t.filter.allProdIds,callback:function(e){t.$set(t.filter,"allProdIds",e)},expression:"filter.allProdIds"}}),t._v(" "),s("v-autocomplete",{attrs:{items:t.reports.filters.students,"item-text":"name","item-value":"id",label:"Select Students",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,r=e.index;return[r<5?s("v-chip",[s("span",[t._v(t._s(n.name))])]):t._e(),t._v(" "),5===r?s("span",{staticClass:"grey--text text-caption"},[t._v("\n                                        (+"+t._s(t.filter.studentIds.length-5)+" others)\n                                    ")]):t._e()]}}]),model:{value:t.filter.studentIds,callback:function(e){t.$set(t.filter,"studentIds",e)},expression:"filter.studentIds"}}),t._v(" "),s("v-autocomplete",{attrs:{items:t.status,label:"Select Status (Optional)",multiple:""},scopedSlots:t._u([{key:"selection",fn:function(e){var n=e.item,r=e.index;return[r<5?s("v-chip",[s("span",[t._v(t._s(n))])]):t._e(),t._v(" "),5===r?s("span",{staticClass:"grey--text text-caption"},[t._v("\n                                        (+"+t._s(t.filter.status.length-5)+" others)\n                                    ")]):t._e()]}}]),model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}}),t._v(" "),s("div",{staticClass:"text-right mb-6 mr-4"},[s("v-btn",{staticClass:"text-none success",attrs:{disabled:0===t.filter.allProdIds.length&&0===t.filter.studentIds.length},on:{click:t.filterRecord}},[t._v("\n                                    Filter Record\n                                ")])],1)],1)],1)],1)],1),t._v(" "),s("v-divider",{staticClass:"mt-2"}),t._v(" "),s("v-card",{staticClass:"mt-2"},[s("v-card-title",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{icon:"",text:"",fab:""},on:{click:t.exportExcel}},[s("v-icon",[t._v("mdi-cloud-download")])],1),t._v(" "),s("v-btn",{attrs:{icon:"",text:"",fab:""},on:{click:t.printReport}},[s("v-icon",[t._v("mdi-cloud-print")])],1)],1),t._v(" "),s("v-card-text",{attrs:{id:"export"}},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",attrs:{colspan:"6"}},[s("h1",[t._v("Purchased Lessons/Products/Camps/Other by Students")])])]),t._v(" "),s("tr",[s("th",{staticClass:"text-center"},[t._v("\n                                    Student\n                                ")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("\n                                    Lesson / Product\n                                ")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("\n                                    Status\n                                ")]),t._v(" "),s("th",{staticClass:"text-center"},[t._v("\n                                    Total\n                                ")])])]),t._v(" "),s("tbody",t._l(t.result,(function(e,n){return s("tr",{key:n},[s("td",{staticClass:"text-center"},[t._v(t._s(t._f("toUpper")(e.item.student.firstName))+" "+t._s(t._f("toUpper")(e.item.student.familyName)))]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s(t._f("toUpper")(e.item.productName))+"  "),s("span",{staticClass:"font-weight-thin"},[t._v("( "+t._s(t._f("toUpper")(e.item.pdoName))+" )")])]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s(t._f("toUpper")(e.item.status)))]),t._v(" "),s("td",{staticClass:"text-center"},[t._v(t._s(t._f("currency")(e.item.total_price)))])])})),0),t._v(" "),s("tfoot",[s("tr",[s("td",{attrs:{colspan:"4"}},[s("b",[t._v("Total Count: "+t._s(t.result.length))])])])])]},proxy:!0}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);